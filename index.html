<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Hour Housesitter openings</title>
  <style>
    :root {
      --primary: #007bff;
      --primary-hover: #0056b3;
      --bg: #f5f5f5;
      --text: #222;
      --muted: #666;
      --ok: #155724;
      --ok-bg: #d4edda;
      --err: #721c24;
      --err-bg: #f8d7da;
      --card-bg: #fff;
    }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; }
    .container { max-width: 880px; margin: 0 auto; padding: 24px; }
    .hero-image { width: 100%; border-radius: 12px; margin-bottom: 20px; display: block; }
    h1 { margin: 0 0 8px; }
    p.lead { color: var(--muted); margin-top: 0; }
    .grid { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
    .date-card { background: var(--card-bg); padding: 16px; border-radius: 12px; box-shadow: 0 2px 5px rgba(0,0,0,0.08); }
    .date-card h3 { margin: 0 0 8px; font-size: 1.1rem; }
    .perks { color: var(--muted); font-size: .95rem; margin-bottom: 10px; }
    button, .btn { padding: 10px 14px; border: none; background: var(--primary); color: #fff; border-radius: 8px; cursor: pointer; font-weight: 600; }
    button:hover, .btn:hover { background: var(--primary-hover); }
    form { background: var(--card-bg); padding: 20px; border-radius: 12px; margin-top: 24px; box-shadow: 0 2px 5px rgba(0,0,0,0.08); }
    .field { margin-bottom: 14px; }
    label { display: block; font-weight: 600; margin-bottom: 6px; }
    input[type="text"], input[type="email"], input[type="tel"], textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; }
    input[readonly] { background: #fafafa; }
    textarea { min-height: 110px; resize: vertical; }
    .hp-wrap { position: absolute; left: -10000px; width: 1px; height: 1px; overflow: hidden; }
    .status { display: none; margin-bottom: 12px; padding: 12px; border-radius: 8px; }
    .status.ok { background: var(--ok-bg); color: var(--ok); display: block; }
    .status.err { background: var(--err-bg); color: var(--err); display: block; }
    .small { font-size: .9rem; color: var(--muted); }
    footer { margin-top: 28px; color: var(--muted); font-size: .9rem; }
  </style>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
</head>
<body>
  <div class="container">
    <img src="HH-pano.jpg" alt="Backyard pool and patio at the house" class="hero-image" />
    <h1>Happy Hour Housesitter</h1>
    <p class="lead">Friends & family: pick a date window below and let me know if you can housesit. Lots of fruit. Lots of pool time. Lots of kitty snuggles.</p>

    <div class="grid" id="dates">
      <div class="date-card">
        <h3>January 19 – February 27, 2026</h3>
        <div class="perks">Cats AND avocados and citrus fruit — orange, tangerine, grapefruit — plus the usual papayas and limes.</div>
        <button type="button" data-date="January 19 – February 27, 2026">I'm Interested</button>
      </div>

      <div class="date-card">
        <h3>April 10 – April 26, 2026</h3>
        <div class="perks">Cats AND early mangoes. Always papayas and limes.</div>
        <button type="button" data-date="April 10 – April 26, 2026">I'm Interested</button>
      </div>

      <div class="date-card">
        <h3>June 6 – July 8, 2026</h3>
        <div class="perks">Summer fruits galore — mangoes, dragonfruit, maybe lychee — and endless papayas and limes. Poolside bliss guaranteed.</div>
        <button type="button" data-date="June 6 – July 8, 2026">I'm Interested</button>
      </div>
    </div>

    <form id="interestForm" action="https://formspree.io/f/xldlvegl" method="POST" novalidate>
      <div id="formStatus" class="status" aria-live="polite"></div>

      <!-- Honeypot for spam bots -->
      <div class="hp-wrap" aria-hidden="true">
        <label for="website">Leave this field empty</label>
        <input id="website" type="text" name="website" tabindex="-1" autocomplete="off" />
      </div>

      <div class="field">
        <label for="interest-date">Selected Date Window</label>
        <input id="interest-date" name="Date Window" type="text" readonly required placeholder="Choose a date window above" />
      </div>

      <div class="field">
        <label for="name">Your Name</label>
        <input id="name" name="Name" type="text" required autocomplete="name" />
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input id="email" name="Email" type="email" required autocomplete="email" />
      </div>

      <div class="field">
        <label for="phone">Phone (optional)</label>
        <input id="phone" name="Phone" type="tel" autocomplete="tel" />
      </div>

      <div class="field">
        <label for="message">Message</label>
        <textarea id="message" name="Message" placeholder="Anything I should know?"></textarea>
      </div>

      <div class="field">
        <label for="recaptcha">Verification</label>
        <div class="g-recaptcha" data-sitekey="6Lcf7ccrAAAAANIiQAWqjV1-KUngL3zeIhNWlUqz" id="recaptcha"></div>
        <div class="small">This protects the form from spam. If you don't see the checkbox, wait a moment and try reloading.</div>
      </div>

      <button type="submit" class="btn">Send</button>
      <div class="small">Note: By submitting, you’re just expressing interest — I’ll confirm details by email or text.</div>
    </form>

    <footer>
      <p class="small">Prefer a different window? Tell me what might work.</p>
    </footer>
  </div>

  <script>
    // Wire up the date buttons: set the date input and scroll to the form
    document.querySelectorAll('[data-date]').forEach(btn => {
      btn.addEventListener('click', () => {
        const date = btn.getAttribute('data-date');
        const dateInput = document.getElementById('interest-date');
        dateInput.value = date;
        document.getElementById('interestForm').scrollIntoView({ behavior: 'smooth' });
        dateInput.focus({ preventScroll: true });
      });
    });

    const form = document.getElementById('interestForm');
    const statusEl = document.getElementById('formStatus');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Honeypot check — if filled, abort quietly
      const hp = document.getElementById('website');
      if (hp && hp.value.trim() !== '') {
        // Pretend success to avoid cueing bots
        showStatus('Thanks! Your interest has been sent.', true);
        form.reset();
        return;
      }

      // Basic front-end validation
      if (!form.reportValidity || !form.reportValidity()) {
        showStatus('Please complete required fields.', false);
        return;
      }

      // Ensure reCAPTCHA was solved
      const captchaField = document.getElementById('g-recaptcha-response');
      if (!captchaField || !captchaField.value) {
        showStatus('Please complete the CAPTCHA.', false);
        return;
      }

      const data = new FormData(form);

      try {
        const response = await fetch(form.action, {
          method: 'POST',
          body: data,
          headers: { 'Accept': 'application/json' }
        });

        if (response.ok) {
          showStatus('Thanks! Your interest has been sent. I’ll be in touch soon.', true);
          form.reset();
        } else {
          showStatus('Oops! There was a problem sending your form. Please try again.', false);
        }
      } catch (err) {
        showStatus('Network error. Please try again in a moment.', false);
      }
    });

    function showStatus(message, ok) {
      statusEl.textContent = message;
      statusEl.className = 'status ' + (ok ? 'ok' : 'err');
      statusEl.style.display = 'block';
    }
  </script>
</body>
</html>
